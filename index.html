<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>GoldFarm</title>
<style>
body {
  font-family: Arial, sans-serif;
  background: #0f172a;
  color: #e5e7eb;
  margin: 0;
  text-align: center;
}
h1 { color: #facc15; margin: 40px 0 20px; }

/* –ö–Ω–æ–ø–∫–∏ –æ–¥–∏–Ω–∞–∫–æ–≤–æ–π –¥–ª–∏–Ω—ã */
button {
  padding: 15px 40px;
  background: #facc15;
  color: #020617;
  border: none;
  border-radius: 12px;
  cursor: pointer;
  margin: 10px 0;
  width: 250px;
  font-weight: bold;
  font-size: 16px;
  transition: all 0.25s;
}
button:hover { transform: scale(1.05); }

/* –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ */
.modal {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(2,6,23,.85);
  justify-content: center;
  align-items: center;
  z-index: 100;
}
.modal.active { display: flex; }
.modal-content {
  background: #020617;
  padding: 30px;
  border-radius: 20px;
  text-align: center;
  width: 90%;
  max-width: 400px;
}
input, select {
  width: 90%;
  padding: 12px;
  margin: 8px 0;
  border-radius: 12px;
  border: none;
  font-size: 14px;
}
</style>
</head>
<body>

<!-- –û–∫–Ω–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ -->
<div id="registerWindow" class="modal active">
  <div class="modal-content">
    <h2>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>
    <input type="text" id="username" placeholder="–ù–∏–∫ (—Ç–æ–ª—å–∫–æ –∞–Ω–≥–ª–∏–π—Å–∫–∏–µ —Å–∏–º–≤–æ–ª—ã)">
    <select id="gender">
      <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–ª</option>
      <option value="male">–ú—É–∂—Å–∫–æ–π</option>
      <option value="female">–ñ–µ–Ω—Å–∫–∏–π</option>
    </select>
    <input type="date" id="birth" />
    <button onclick="register()">–í–æ–π—Ç–∏</button>
  </div>
</div>

<!-- –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é -->
<div id="menu" style="display:none;">
  <h1>GoldFarm</h1>
  <button onclick="openWindow('profile')">–ü—Ä–æ—Ñ–∏–ª—å</button>
  <button onclick="openWindow('clicker')">–ö–ª–∏–∫–∞—Ç—å –≥–æ–ª–¥—É</button>
  <button onclick="openWindow('withdraw')">–í—ã–≤–æ–¥ –≥–æ–ª–¥—ã</button>
  <button onclick="openWindow('info')">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</button>
  <button onclick="window.open('https://t.me/tehPODDERZKActazyBOY','_blank')">–¢–µ—Ö –ø–æ–¥–¥–µ—Ä–∂–∫–∞</button>
</div>

<!-- –ü—Ä–æ—Ñ–∏–ª—å -->
<div class="modal" id="profileWindow">
  <div class="modal-content">
    <h2>–ü—Ä–æ—Ñ–∏–ª—å</h2>
    <p id="profileText"></p>
    <button onclick="backMenu()">–ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é</button>
  </div>
</div>

<!-- –ö–ª–∏–∫–µ—Ä -->
<div class="modal" id="clickerWindow">
  <div class="modal-content">
    <h2>–ö–ª–∏–∫–µ—Ä –≥–æ–ª–¥—ã</h2>
    <button onclick="users.balance+=250; updateProfile(); alert('–í—ã –ø–æ–ª—É—á–∏–ª–∏ 250 –≥–æ–ª–¥—ã!');">üí∞ –ö–ª–∏–∫! +250 –≥–æ–ª–¥—ã</button>
    <button onclick="backMenu()">–ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é</button>
  </div>
</div>

<!-- –í—ã–≤–æ–¥ -->
<div class="modal" id="withdrawWindow">
  <div class="modal-content">
    <h2>–í—ã–≤–æ–¥ –≥–æ–ª–¥—ã</h2>
    <input type="number" id="withdrawAmount" placeholder="–ú–∏–Ω–∏–º—É–º 5000">
    <button onclick="withdraw()">–î–∞–ª–µ–µ ‚ûú</button>
  </div>
</div>

<!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
<div class="modal" id="infoWindow">
  <div class="modal-content">
    <h2>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h2>
    <p>–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫: BotMaster</p>
    <p>–í–µ—Ä—Å–∏—è –±–æ—Ç–∞: 1.1</p>
    <button onclick="backMenu()">–ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é</button>
  </div>
</div>

<script>
let users = {
  balance: 10000,
  total_withdrawn: 0,
  username: "",
  tg_user: "",
  pending: 0
};

// –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
function register() {
  const username = document.getElementById('username').value.trim();
  const gender = document.getElementById('gender').value;
  const birth = document.getElementById('birth').value;

  if(!username || !gender || !birth) {
    alert("–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è!");
    return;
  }

  // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤
  if(!/^[a-zA-Z0-9_]+$/.test(username)) {
    alert("–ù–∏–∫ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º!");
    return;
  }

  users.username = username;
  users.tg_user = username; // –ü–æ–∫–∞ –ø—Ä–æ—Å—Ç–æ –¥—É–±–ª–∏—Ä—É–µ–º –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞
  document.getElementById('registerWindow').classList.remove('active');
  document.getElementById('menu').style.display = 'block';
}

// –û—Ç–∫—Ä—ã—Ç–∏–µ –æ–∫–Ω–∞
function openWindow(id){
  document.getElementById('menu').style.display='none';
  document.getElementById(id+'Window').classList.add('active');

  if(id==='profile'){
    updateProfile();
  }
}

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –ø—Ä–æ—Ñ–∏–ª—è
function updateProfile(){
  document.getElementById('profileText').innerText=
    `–í–∞—à –±–∞–ª–∞–Ω—Å: ${users.balance}\n` +
    `–í—ã–≤–µ–¥–µ–Ω–æ –≤—Å–µ–≥–æ: ${users.total_withdrawn}\n` +
    `–ù–∏–∫: ${users.username}\n` +
    `TG: @${users.tg_user}`;
}

// –ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é
function backMenu(){
  document.getElementById('menu').style.display='block';
  document.querySelectorAll('.modal').forEach(m=>m.classList.remove('active'));
}

// –í—ã–≤–æ–¥ –≥–æ–ª–¥—ã
function withdraw(){
  let amt=parseInt(document.getElementById('withdrawAmount').value);
  if(isNaN(amt) || amt<5000){
    alert('–°—É–º–º–∞ –º–µ–Ω—å—à–µ 5000 –∏–ª–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è! –í–≤–µ–¥–∏—Ç–µ –∑–∞–Ω–æ–≤–æ.');
    return;
  }
  if(amt>users.balance){
    alert('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≥–æ–ª–¥—ã –¥–ª—è –≤—ã–≤–æ–¥–∞!');
    return;
  }

  users.pending=amt;
  users.balance-=amt;

  alert(`–í–∞—à –≤—ã–≤–æ–¥ –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏: ${amt} –≥–æ–ª–¥—ã`);
  backMenu();

  // TODO: –∑–¥–µ—Å—å –º–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–∞ –±–æ—Ç —á–µ—Ä–µ–∑ WebAppData/WebSocket
  console.log(`–û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é: ${users.tg_user}, —Å—É–º–º–∞: ${amt}`);
}
</script>

</body>
</html>
